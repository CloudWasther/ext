--7i7rririirrrrirrrrririrr7r7r7r7777v77rrrrrriririri7r77v77rrr7rrrrriiiiiiiiriiii:::............................:.:.:.::::::i:iiriri
--7:iiiiiiii:::::::::::::::::::iiriiirii:::::::::::::iirii:i::::::::::::.:::......                     . ... . . ..........:.:::::::
--vrv7vLYvL77rrrriiiiiririiiiiirrrrrrrrii::::iiiiiiiiii:i:iiiiiiiiiii:iii::::::::...................:.::::::::::::::::::i:iiiirrrr7i
--7r7vvv7v777rrriiirrrirrrrriiiiiiiiii:i::::::::::::::.::::::iiiiiii:i::::::::...:.................:.::::::::::::::::i:iiiiiirirr77r
--r:r77rrrririi:iirirrrrrrrrriiii::::::::.:.:.:::::::.:.:.:.::::::i::::::::::::::.:...............:.::::::::::::::i:iiiiiirrrrrr777r
--r:irrrii:i:i:::i:iiiiriiii:i::::::::::::.....:.:.:::.:.:.:.:.:::::::::::.:.:::.:...............:::.::::::::i:::iiiiiirirrrrrr77v77
--7i7rrrrii:::::::::::::::::::....:.:::::.:.....:...:...:.....:.:::::::.:.:.:::.:::.:.:.:.:...:.:.::::::::::i:i:iiiiiirrrr7r7r7777Lr
--vr7v77rrii::::.:.....................:.............:.........:::.:::::::::::::::::::.:::.:::.::::::::::::i:iiiirirrrr7r7r7777v7v77
--Lrv77rrii::::.................................:.:.:::.:.:.....:.:.:::.::::::::::::::::::::::::::::::::i:iiiiiirirrrr7r777777v7vvL7
--7r7v77rrii::...............................:...:::.:...:.:.:.:.:::::.:.::::::::::::::::::::::::::::i:iiiiiiiirrrrrrrr7777v777v7Lv7
--i:iiriiii::::...............................:.:.:.......:.:.:.:.:.:::.::::::::::::::::::::::::::::i:iiiiiirirrrrrr7r7r77v7vvvvLvs7
--:.::::::::::::.......:.:...............    ...     .i. ....:.:...:.::::::::::::::::::::::::::i:i:i:iiiirirrrrrrrr7r7r77v7v7vvLvYLv
--:.:::::::::::.:.:.:::::.:.:.:........ .rvi:.::ii7vuIgK..:::::.:...:.::::::::::::::::::::::::i:i:i:iirirrrrrrrrrr7r7r77v7v7vvLvYLJv
--i:ii::::::::::.:.:.:.:.:.:............UPPgq55bEZK1YSqB2 .:.:.:.....:.......::::::::::::::::::i:i:iiriririririrrrr7r7r77v7v7vvYvsYL
--7:rii:iii:i::::::::.:.:............. :Q2J2PdbKUJsjSSPBB   .........:rr:.......::::::::::::::::::iiiiriririririrrrr77v77vv7vvYvsLsv
--rirririrrririi:i::::::.............. .MMjJ7Usrvr.rQRDBQU    .........7SqbPjr...::::::::i:i:i:i:iiiiririririrrrr7r77v7v7v7LvYLYvJsL
--:.::::::::::i:i:i::::............... :Bv iSvYIr :rbBBQBQgqI       ...:qsUIbQK.::::::::i:i:i:iiiiiiriiiiirrrrrrrr7777vvLvLLsLYLJYjv
--. .......:.:.:::::::.. ..:i7u1i..... 5B7rXBbgBQMIjPBQEMBQZqv:::ii7LJs2jvv1Xgg:.::::::i:iiiiiiiiririiiiirirrrrrr7777v7vvLvYLsLJsJJY
--. ............:.:.:...iY5J7S7. .....JDQPRQg:UBQBPvBDPSgBgvEBQ15SqSL7uujsKdQBD..:::i:i:iiiiriririririiiiiiiiirirr7r7r7777LvLvYYJJuY
--. .........:.:::::..iPP1v7rurrrrrvijgQXZDBq7rdBBXEQDQBBDJUgDPZKIJvrZq2uZRBBb...::::iiiiiiiiiiririiiiiiiiiiiririrrrr7r77v7v7vvsJuus
--. ............:::::.Id172ILJqS5XPP7uBBQgEBBJYQBbjQMQBE2i5BQEgUPgSs2PKgBBBZr  .::::i:iiiiriiiiiiiiiiiririiiriiiririrrrr7r77vvYsuj1J
--. ...............:..PQgPqP1UqqU1DBUiPBBBbIBBRQB7XBBgXvrDEPKqv1ZgSrSBBBQK:  ..::::::iiiiiiiii:iiiiiiiiriiiriririrrrr7r7r77vvJJ1u2Uu
--: ......:::::........UQBRZuYJdMLjMQ2:JMQBqBBBgBBBZU7:bg1S2rIZbDDQXBBZr.  .::::iiiii:iiiiiii:i:iiiiiiiirirrrrrr7r7r7r7r77vvYYJYsYjv
--. ....:vr...:r:..:... :qQBXKE5ZMYIusdr sXRBBBBBKJ7.UPs7gUsSQMBBBQQJ:   ..::i:iii:iii:iii:iii:i:iiiiririririrrrrrr7rrr7r77v77777777
--. . .ivriii.rY2i....:.  rSQBBQQRdJEbUJ2: r. s 7..UDIUXgDgddMQRPv:.  ..::::::i:iiiii:iiiiiiiii:iiiiriririrrrrrrrr7r7r7r7r7r7rrr7r7r
--. .:7us7uQBQUrrj:....:..  .r2BBBBgPDgEIsvYr71iiXubKPbdKPP5qQX....::::i:i:::::iiiii:iii:iiiiiiiiiiiirirrrrrrrr7r7r7r7r777r7r7777v7r
--. LDgPIXBBY   ..:........     iYPRQEPJUPb2ZP5Js1ZbqI5SPdPgBB. :::.::iii:::i:i:iii:iii:i:iiiiiiiiririirririrrrr7rrr7r77777777v7v7vr
-- iR7rBBBBr ..........  .          .77bDSsv77rrLuJSZQQBQqKBB. .:..S.::i:::::i:i:iiiii:i:i:iiiiririririrrrrrrrr7r7r7r77777777v7v7vv7
--5BB.sPBZr ..:.............. .         QBBDQBBgQBBBP1BBb2gB: ... vB7 ::::::::::i:iiiii:i:iiiiiiririrrrrrrrrrr7rrr7r7rrr7777v7777vvr
--MQBBBMI. ..:..............            .BQXuBBKPBBgvXgU7IBI  . .EBBL ...::::i:iiiirii:iiiiiiiiriiirirrrirrrirrrrrr7r7r7r7r7r77v7v7i
--QQZ:.  .....:..............            7g77:: .:.iL7rijSBD   .BBBBbr7i:..:::i:iiii::i:iiiii:iiiirrriiiiiririrrrrrrrr777r777rrrri72
--Qd  ...:.:.:.:.:...... . .         B    I5.    .: .:r1JEBB. 7RBBBB17vU57......:::::::iiiii:i:iiiiiiiiiiiiriririrrrr777777vr7r:iKRB
--B. .:.:::.:...:.... . ..          iBr    Q1: :75: :i7YXBBRQBBQgRBKrii7J52i. ir:..:::iii:::i:i:iiiiiiiiiiiiiiiirirr7r77777riPBEPBBD
--d:.......... ..... :LK: .i        UBBZ    qX:uQZqRK7jgQBQgQBqbQBXU5XI5jj5ZPuEBEi:..::i:i:iiiiiiiii:iiiiiiiiiiiirrrr7r777rirBBBRQY.
--MRgXUvrirSZP5Li:..11Pg:iv..   .:::7uDBB5.  gPvq2PKLPBQQQB5gQZPBPUqDDgZPIsvj2JYPggb7.....:::::..:::::i:iiiiriririririrrrii:qBM2P7::
--RDZDdPI2jJIggBEJbBBBQBBQ7:r77i..     .5BBBBQBMuv75BBQQgBBYLEQBQLvsJIS5jgIUKM7iiv5dBR2u7:.....:r:.....::iiiiiirrv777vi:ivYXRBs..i7r
--DdgDgZgEEKPPQPQ: iKZj7gDBgbXI7r:..     :SQBBBgBBBBBQMgBQBPr.2BP::.i:i77YMBBBQv77uuXBQXXbgPIJSBBgZXu7ri:.....:iLY1sIXRbXPMQBBMZU:r7
--ggDMgRMMggZZbEMB7. .1d1gdgrvivSJri:::..  :vPMQBBBQZZgBBBvPQd:Qr  ..::vYBBBggQB51J1UDQQ5r7PBQSY1QRQQBQQZKjL7rv7i7jjrudPSQQQgQKRBRir
--RgRRQRQRQQQRMggBBM5:.rZBZgX:rrY1X1vrririi:::irsIZQBQE1MBSIIBK..    :i:BdB1i7bMQqbEgBB5BBb7vXQgKgQgMZggQQBQRDZ511uqgBQ1JbgRRR2YY2Zv
--QQQBQQQQQQQRgBQQbMQBgUYRMZB7:rvY7552Lr::::.:......:ij1r1QBPBB..:..  iXBi...i5QgQBBJuPgERBBDJrLdBQRRQgRDgDMgRMQMQQQgMgQRgPDMQILYvvJ
--J5BBQRQQQQQQBQBBBQggBBBBgDBRYjDquY2KqSu7i::..        ....:rvP..v::7rLBBv ZR7qDRBs.    .:YbBBBDDQBBBBBBBQBBBBBQQQQMMMQRQZEZQgDLvsIj
--. i2gQQQBBBBRqLr:sMBBBQRMRdZqLMBQgbbqdPZXJri::..     ...:ii:..:77:rJQqKMYYvsZQQB  .:.. .7LY2PQQQqKPqPdPPEEPggQQQQBBBBQQBQQgBBBd2YU
--:....:jKXsr..    .i:JZQQEDQQBPJ5dgQBBDggMgbs7ri::.    .i:.:7JJuJv:rQ5vBqRvqQDRBj .:.:.:vvrvUb52u7vs7ss7rvr715XK52LJ15uqPgZgMQBBBBM
--i::i:........:.:::.  iivKPYi.      .LBQdqEDMIJv7i.    .7r. :irYPIZBB EsuQBgPZBU .::::ri777JdKKq5JXX55X15ssUULqZDPXv1UULJ1IsYj5SgMg
--r:iii:ii::i:i:i::::.... :.    .      .DQbIU2ZK2Jjrri  :LUSKKDZQQBBBi15KQQQRgBB: ..irivrirYgMEKPU2XX2XI2KU2b2XKEdEdP555PPPKPPPS5sJs
--i:iiii::::::::::::......     .         7QBP5IbXPrvr rDQQBBQBQB1MXDvuB5gDRBQQBBX .::v77uqXqIPPdPbKbXKPX5S2X12K2IZgESbbEKqPdqdbPbgPK
--i.:::...............................     5QEbPUrirrQBPL2P .vPgbZMDXPuBRqQRBDgBB7 i7jPPRB5:SEgQEMQMREDZZqbP525uPgMddPPXK5PPPqPqPPDb
--:.....................................    vBBq7vqKBM72.  iQgr1DBIPPIDZBbqQBb1gZBRZMBMgPMs:7XMDgBgggKgBQBBBBBRMDZggZEKX2I1ddPKP55Xb
--. ..:.:::.:.............. ............... .SRZgQBQBSLir. :qU5DXMBQMBgS1ZgXPI2SEBB5DZQggdgQPP1vMEgQBRBBPqPZMRQZdPPIqDPKS22udPbPSISU
--...:::::::::::........ . .................   ijBBBBbS1v5dSPdggPdMBQBQBMKIPqdsXdMQMEIMPdBPEgZdb2vv1SEbPKKv7LJ2S22PPPREdKS1sIdXX5XI1
--:.:::::::::::.:......   ..............:...:..  .XBBBRMRDgQBMggQQQdEZQBdbMS2Y22P5gdD1dQ5bBKEZdZEujvLY1KgMgI5ISEbPEqUjKUqdgEbI2j2uuU
--:.::::::::::::.:...:.............:.:.::::::::::. .1BBBBBQMggMBBBQQD5sjUZiKZXZPIJ1QQBbDRXBQ2ZPUjvi:iggZXu7sgZKu7Yv1XvUXvjXPEbIJv1PE
--:.:::::::::::::::::::::::::::.:::::::::::::::::::.  LBBBBBBQBQQRRgMMDDMgI1gMESJUYJdEBQbDZEYXg55JsL15dd1r7vPqXK52JbgvI5j5dqqKS1KbPI
--:.:i:::::::::::i::::::::::::.:::::::::::::::::::::.   .7XBQBBBBBQBQBBQDEDgEEUERK2ILujEQZZdUKZgQdXq2uiXMZ5S5bSXPsL7PRPEEQDvi7YqPqXu
--i.i:i:i:::iii::::::::::::.:::.::::::::::i::::::::....     .:7JKPZQBBRrPDqLLvSMBgbqKJ7rXgdgBXdKXUssI1iYRqJYS22rb5Yi:jZdZqKjUSXXqIIL
--:::irriiirir:i::::::::::::::.:.:::::::::::::..........          .sXBBgbMEZgEIYjgBBRgPurvSjQMU:..vRgdqqr:rZZDj7ZZ5s:KdKqP5SKP5XusJj
--i:v7..:7v:..i ..:..:::..:::.:.::::::::::i::::::...... . .....  .7jIMBBBBSvEdZb2vY2RBBBQvJ2igZ1:.IXEbdPbJuPqXqSXUXPqg5111Js2ujLLY1j
--2..i  .ir: .77.rr. :::::...:.:.:.::::i:i:i:i::::...... ....  .LIJUgPBBQBgj5u7sXDIsJs5XMBYsLvbgJIjvJQgDgqrrrLJjr:SBBDZ17rir777YY11j
--g. :P:.i5j:rqgdIDIv7r:vuL:..:::::::::::::::::::.......... .iPUIUqggUqqPKbEPXqIX1. dBgX5uI:uBDqYi:.iSPSUi:....qP11JubMgXv7r7vYLsYuJ
--qPd2rISuvu2qEDKUJXj5277j7vvi...:::::::::::::::.....  :7i.:iURULUD5 .i77J7i...:irrv7L7sIDZPXRgKKri..r  iPPPSviEZ17: vBQQEPPqdqPKPqP
--KXZdKUSsuuXu1XP221:r7.:Y:.7Iv:..::::::i:::::....ir:.7r: iJJ2RsKQBK:PMdqERMQQQPv:YRZgI .:UZX2IPgbEPZZv.bRgggMQDPvr::igDMguvJUKSPqP5
--PXSdZEKbKXUKS5SXIb1L5vSY:v22jj7i..:::iii::..:..ri::X. :7Ssr2qPPYL7JBBRDEPggQs.   LPsL    rY:.:KPj21v:iL2Id52svrvU2Y7gMDRQui7Lu15II
--q2XSX552XKPXPqbEdPd5UYq2rrXri2UJv:.:iii...rUSrJii7q5j5qPYvJIqEQd. JQQZgEbbPX7.    . .:    i.  I    :.  .rvL.  JgBDdSSqDMQBUrLJ1U5I
--7rrrrririr7YLuIPbPPDPIX52PPX2gD2UI7....:YZdbPQMDSqJi7jXsr55qbBQBU.dQMDgEsJX1i    ..   .7j25i rXv  1Qgu   sJ:  XRZZPq1j2RgQQdJU2SSS
--r:riririi:::::rsKXqPdqKIsSIYSPZDZIqXi::2BQQRQQBBBBBBggqj22DqBRRBg.5RRPEPLrsIiiqbKbX    iXJ:.v55r..vXqbX1XLJ21vvggbPXXU1UZgMBDUI2X2
--i:iriiiririii:::isSXXEb11ESXdU1RQDIgIYv57IPRQgqSbPKqgQbZqESqBQBBv:PQgbXgYri::vjDPd1  :vZS1   :.    rX12Pv.:7L1YYdbqq55I22gRRBRSqKK
--r:ririiiiiiii:i:::7uIqD5P2U5dSDBBbSsiij  iUqrru22rjSZKgRRMKrBQB5..PRg51ZPXP:.7sr2PK7r:.:v. ig2j:   iY...irr:. .iqKbKK5KSjdgDQQgSbK
--rirriiiiiiiiiiii:i:irsU5qDMQMDRB5Yv  .r..ijXiYIP7s5PUJsQQBbYUZ7:jQRBQqjZqISdKbi  r7ur   .  :sIuP7.:qJ.   .:r:. 7bPqqI5XPLPREZMQg25
--r:riririiiriiiiii:i::7uu2IgQBQqi:Ui.:71  7P7vXdPPZZDguvBQQEPPu7QBB1dgdDXqr7r:i7  .  :rj1qi   P7.vS5r:rv: rPqI7vXZPPS51ujLdDPEZgQdU
--r:iiiiirrriiiiiiiiii:is2us1Qs7vL7q   :i.KgD5XqdPKPdPErXBQRgQBURBBg:KMPXS2KKv::vZdK:  iXuUP. 7gJ  .ir.:UPKQZDDgDDdP551uYY7gPK5KPgR5
--i.i:iirii:i:i:i:i:i::.7u21IvrPi .: rIq7vUSqY5qE5ZDMdD7gMPPQQMPBQ2s72BU5sUdRj  :PqE7   jjvUXIPSP7.  :i..r5bZbEdDZb55jUsYruZPIUjSXDP
--:::i:iii:::i:::::::::.:1SSJYvL .rJ:.rXiYUEXPdgEdZggE2vQ1rSBBDBdsJQULBuY1IqU2. YESP1  .Kv  .v7rirL.7Svr  YEbbqdPq2UUSjvr7dbXIuuu5IP
--i.i:i:::::::::::::::rii7UJqYrLY:iKirqK1qZZdSqdPqPZZPqjQ5vYMBZsrPBQ77QKvZEIIKDDDPSsUUXPE7   :i:iiUdQMRddKEPKI52sYjYUjsrrqESS12uuJUj
--:.::::::.:.::iirr77v7riv5ZgdKgdDgBRQQBgRgMgEdbKZgXjISXgZPUSS7rEBQQijBMvYvivKPPPZJ77s1IUsirrJ7. iIIPdDgZd2UjYv7iiv1JLirqb5I1U11Yj1J
--:.::::iirr7vYvLvv77rriJPgRgdBBBBBQqKRZ5XZgQQBPPQKrU15vgEZbqQPSBISU.2BP2jvii72JPU. .7urrsdQQgq: :JSdqPS5Yv7Lrriirvv7:LPP5522ujs1Ljs
--ii7YsuJujusJvL77rrrri:qRgBBBBQI1PLiubP1KEQQBBZPRD7rsJj5g5KIRRQ2JgR.qRL5BQBRv:rvLPZqPJ. :YgDbEEIjKE5KI1sv7v7r::::::r1PqIjJI1UYYsjvL
--1LUJJLL7v7777rrirrrirs2vXKMqdi iXv5DgdXPggQMP5bbgbUY1UY5PssUgISdPi 1qjBQQBBg  iqBBBBBv:iKDdKPdggDXU7rrvriiii:   .vqXSU1susUJL7u1J7
--v7vvr7rrr7rrirr777iss7.iXX::7iYEEdIXPdXQDgP12SXX5EdqujjUs5s1KUgB7 qZr2BRgQRBgIPd2ZQMgBQBQQZKKPqdqI7i:iri::   ..71X221UJ1juYY77rJuv
--Lr7r7rriiirr77v77rus:i.vE7.YISPIE5jKgEgbdd7vU5IU1jXPbS1usrv5PZQr.IZ55UBggMBMBQBBQDEDDZMbgRBgqussJv7rr:...   :vIXXUUujYJsY7rr7777J7
--7irririrr7r7r7rrrrirrKY7Y2SdqXi7PZPRMZXPZDrr77YU1UjSbZKPXvrYY7:.uELuPBgMgDgBQBQRPDQgdZMgdMgBQEuv77rr::.::rY2SP5I12Js7vrrii:irrrr7s
--r:rr77v7vr7rrirrr.:srJXdbDj.7UUERMEdgqP5DMPv77Jj221sIUIXbZBggP7JQj2UgQQQg77sY7uKvUIjbPSUdRRPQBQZEqS55U5SqSqI5IIJjvLrrii:::iirrrrvU
--ri7777r7irr7r777v7v7.qgPYS:72PdZqEKPPdS2IbdDPP52u2uus1SP7r:.IQ5ESLsPRRQDIq5vJLYYjd5s1PbuiIMbPMRQPqXqXK552Ussvvrrrrri::::..:i:iirU5
--7i7r7r7r77v7v7v7q7.i1gRi:YUKDdPI5bMKE1sXIJ1KEEZSqISqZX2:...:JqqX7LMMgPDiXMusKgQgRRMPbEPdsrJPgdggMXIuJj1JsLvrriiir::::.:.:...i:72Xj
--rir7777vvLvL7v7Yq::SSU572EEKYSdKbQMEqrvuujuIXS252qPEr..::i:.r2gdIJEQ1ULv5ZXQQRgDDggRgQQQRg5r5DXDZRqjYvrriii:::::.... ....:.:iJSXIj
--7i7777v7YvLvvr7.271EJsIU2vP7sPRDMgdMYi7v7J5XSJU1SqP: .:::::.7KMPSIQKYXvvqXXRQDEDMEDDggRDRgELrd15bZDXvriiiii:.         ..::rL5S51Us
--7irrr7r7rriii::.qq75uU5Si7ssXREEKPPMbJ77r1U2jSXPPIi::iiiiii:iu2PuggbJI7YSudggRgZEDgD2Y77vjXPuJu5SPSgI7ri::..          .ivUIK2IuU1j
--riririiii:i::.7r2Jv5SUSSuPddREXbZPMbEdE5PddKPbPPv.:irrrrrr7risXEKMQq2biJS2gPEZMPKXjUXu2v77LLU27PBY7qZX7ri:...   ..:i7v12qII1211Juv
--i:::::::::::.:Zq:KbMBgRQMBZdMggQDgdX5qKddbKKSIjD7ir777r7r7rrirIPdgD17S7Lj2gZbZDSXqYSXsqZuYU2PMju5Iv5SDgP1jLL7vvsLUU5II25U2U2jJsJsY
--i.i:iirrrr7rirQDPQBDbMgqQKvSgDQQMbKJ215XK5X21YKg7irrrrrrrrrrr:YqMPP5XX7UsiDdbZbU22PdduqP22KdBMQ7iLKKDJPqPSKXqSKSI2Iu1JuU522jJYJLL7
--7r7L7777rri:.7QQRBQg7U2rsS2gZgRQgqU12KSX5KXSs5gDiir7r7rrr7rrrirXP5P5Y2:7vrPEEKUSr7UdPdPZgZPgggQqXJ25IuLIsJJ1JJs1uuJu15uUjJYYvv77v7
--7:i::........vDgBEQdL2U7XdDPqdgggUS2XSKKPqPqEZgbir7r7r7r7rrrri:vPId5vIu7PXZDYrrYvJUIJXP2P2XdEdZP1P1irUjuJvJvYvsYusuuuLsLv77r7rrr7r
--.....::rrrr7r7LKd5PZj7IbZSqqPMZDbJjJ2X5qPdqKZEbbirr7r7r7rririi:rS2SZIXdP5:ug1Y1Du:is1IviJSLY1KPP7uXrr1IsU7vLvsvvvv7777rrrriririrrr
--ri7777v7v77rrrUuKqqKI1PPX1EDgdddDLL7s2qPPSjUMPPPrr7r7r7rririiii.LqXgDZPvsrUEZqSqri7U5.irU7rvjiU7UYqUrsds2vrv7777rrrrri::iii:iiir77
--vr7v7777r7rri7rYqZKSdD1uqdEPdDPEDbU55PddIJsqPqKSi7r7rrrrirrrrrriiqbQEddUs5dgb:.7SSU5YYLJSJvjJvJs5K15Sjj5uUr777r77rii:::::i:irri7vs
--vi777r7rrr7rrirUDbKqDgq5PbPSdDdKbdZbEPPSIjSPK1Kuirrr7rrrrr7r77vrirPEZSZKuUEdS:ri1XsrLXq1vJqUJXXiJPuJ2Ju11I7r7riir::::::.:ir7vvvY1u
--rir77v777777rrrPqXZd1KggX2PddZPqSXSqqqS5I5UKUU5Lr7r7777v7Lvsv7r7rr7IX55XUSXKKXUL7Y.i7U5i7YuSiLU7v51sv1j2sIjrrrii::::.:.:r77v7LvjYJ
--rirrrrrrrr7rv7Y2qXdKqKdZdPZEDdbS215U2uUIX2IIJJSYjJjJJsussYsv7r777rr722X5SKqKq5IuUJ77v72:7sJ1ivIJJUXJJsJjjj5j7iiiiii:i:i:rrrr7vjJUs
--riirrririiirirrjKZXIPDXKPDddqEPq1uISuuUKI1USuK51u111JssYLv7rr777r7rrrUIKIKKqS1JUJvIIJjJssjL7YU1L7J2SjJJ1su12U1Lv77r7r7rvvss112uuJL
--r:i:i::::::::..7E5KbPPdPKXdPPPPKKuI5SXXSSUKUIXu1IJYvLvL7ririr7v7777rrruuI255K1uS1vYU51i711j:rJ1JYvYuJYsYuYsvuuI2IISISISI5U2juJjsJv
--i:iiiiirirr777ri2P5PbXKEPbdZEZPKPbXXIS5IUSUjjusUuJ7v7Lrririr77r7r7r77rrL152KI52qIUY1Su77L5u77vJ2YYsJ5511jjLvs1j2j1u1JuYJYJsJYYLJJs
--vrv7vvLvv7LvLvvrrUEKXKPXdbEPbqbXXjUU512juuJsJYuJsvL7Lriiiiirv77r7r7r777rJ2IISI52S5I1S1jYYsXsJYsuX11j2IIIK21Luj1jsLLvLvLvYvYvsLJYuv
--7r777vvLvLvv7v7vrrsPK525IX5KXKSSIJYjj1JjYuYYLjsJLsvJr::i::ivvv7v7v7LvYLsvu1IIXSSIXISSX5Uju2S12u2I2122qPZPP1YLYYYvsLYvYvYvsLsYJsujs
--rirrrrrrrrrirrrii::ij2I1112UI2IUSjYLJYuJuJJsjJuJusJvi:i:i:ivsLsLjJ1uU1U1UjU155SSXIX55UI5512U5IS2KS5SqXbKX2u7vvYsJsYLYsuYYYJJusuju7
--i:ii:i:::::::i:::::::r7ssssuJuJ1YJvYLsYjsjsjJus1j1Lr:iiiii:vuUuUu2UI252X55221uYuu1j2J1jU122512SPqPXXI22XXSISJY7sYsvsYJYYvYvYYsvYvr
--i.i:::::::::::i:i:iiiirrv7YLYYjsjvJu111JJYjjuJusuY7iriri7777juUJ1J1u21IuujJsjssvv7sYuu22SSPPbPPqPXqSSUSqq2S5KUYLYvLvYv77L7vvv7v77i
--i::i:iiiiiiiiririiirir77777v7YvsY1u1j1JjsusjYsLL7viiir7Lvv77r7vsvsLYLsvYYjsjj1j1uUu22XXPKPPEPbPPXK55IKKSYsLsvJssvL7v7vvL7v7v77r77r
--r:ririririririrr77v7v7vrr777vvLvssuj1uuJjYsvv7777rr7v77r7rrii:r7vvYLYLsLYYuj2ISSqqPXq22155SUUjUu1uuj2uYrv77777LvYvvvvvv7777r7r77vi
--rirrrrrrrririrr7rrrririiirr77v7v7v7v7vvv77rrrrr77777rrrr:iirr7iiirr77vvssUUS5KSXSXXqKq5IjuJJLsvsLYLLvL7vvLvv7LvLvv77r7r777r7r7r77r
--7:iiiii::::::::::::.:.::::::::::::::::::::::i::::::::::.:::::.:.::::iiii7r77v7vvvvv77rrrrirrrrrrririiiriiiiiriiiiiiiiiririiiiiiii:
--
--
--
--                                                                                                     .Y..                                 
--                                                                                 .:vXgdBBQKgs.     XQq.i:vJ                               
--                                                                          ..KRBBBBBBBBBEX1BBBD1.:1BBP:7:7YQ2X.                            
--                                                                    iY7BBBQBQBBBBBdr     5QL..rBQBB   7Md1QgQ:                            
--                                                                 YgBBQBQBQBQBBu::         K    UBBR   7UPQB.B:                            
--                                                           rYRQBQBQBMBQBBBi77.            M    PBBQ   . iBL77.                            
--                                                      .iMBBQQQBQBQBQBQQgi       i:.       BuJSBBBBB  ... .i .r                            
--                                                :bv:rZQBQBQBgBQBPBQE:         qBQBQB:.iUuU.7iSr7QqrrKBBBQKvJ5ggB                          
--                                      .:. .vZQBQBBBRBQBQqiBQBQr.      rIqY:  Sq.XBBQDPI:  .ui  .r PQBBBQBBBQBQQ:                          
--                               .::.rPJqdgdEBQBQBZBPgBBQBQBRP:      rYUQBBBQB:Q:.:jr.     .dU   P  :siIBBBBQBQLB.                          
--                      .     .KSIBQMQJBgsiUBBQDBMQdDQBQBQQs.       :q    IBBgKii:JL       ig   2v :U5: .QBgB2gEBB.                         
--                   rBBQgI7riULiQK7MZ7BQS7BMBZQRBQBQBQZ:    :LdQBBQR  :77ri..   :d        75   E  s7I   i jIB.BIBD                         
--            7:IJu5BQB7iUgXIiJrgLsRrvBddMBBBQBQBQBPY.      Qi  vQBQBiuuY:.      P5       .vI   Z  i71  g   uQiZvQB                         
--       . ..QZdSiIBEP1rr1Mq.1vYYdq.rD52dP5BQ5YSir         P.  :7dji.:.          d7        7s   Q  YIJ .B   iB:ELBQ                         
--      rrJK1s7uJj571IQE vBviQ:UMvB.UQBBB2d.         .::7r:R2YqYZ                U7        iY   Dr .1iDPBQi.2B BYQB                         
--    .B sq::7.Yi5 ..IBBvvQgdb5PDggBQDbLiX     ..IRIrPPMbPqP:  j.                Su ::irr1Y:U    B  i17vMBQBB.2BqBP                         
--    QdJgv.:.rr17 5i7Q2B:sIDr7E.Ysru7r:    .jRRP:.idZr.  U   :K          i..:vr1SB:17I7KuugQL   .QiQ1i:ii:rvqBuBQ                          
--    QSgQqi::77YQ.L:Ug:.QSMggEXrIUr..  .L2QQB7: iqj     2.   v:   .::vviqQUJJ5uIvd5:vXPbgXv5B:   .IKXRP7EQBBBIZQQrEX                       
--    .rirKZKJB:KgErrLQBEPj1dPQPJ.:    U:  L5   Lq.      P    Ld7S7JjSP2qPEXUvri7JsKEQBb.E.s::B.    :2QBBQBQYiMQBQBQi                       
--   vr.j1Ud.rQuu5EBJJ25DB7:          QY.irU.JQ q:     ::s:YvPYQPduSrr727vs1KPEBQBQBQi7v : vBr:BX   .u:LgBEREBQBBBQB                        
--    iijDU  .X1BrU2PIRUi       . ..:.BUQ.B :gBiS...7rYsR7Z7MBjrIIgZgdQRQQBggqBQBQBQ:  1   :BQE BQv     7qZvbMBBRXBZr:                      
--        .     .i        .UQBQBZQurrBQ K Qi YQjQKZDEDEUQBQgvviBQBBQ7BQBBBQBQBQPJL:. UBBM1srBBQB LBBPu:i:77UQBuBBi:Qd                       
--                     :PQBQ.IP      YB E Ki:iBiKSBBBRBddvX: 71Qu7B LQMdBDQQBr:     YrX.vbBQjQBBB::QBQBQBQBQi rBBQ2iBQ.                     
--                 :SQQQL5i. r   .:ii uii:.UsSQBQM:  :       .QB EQ QB     UBr      B : rBQu5BQBBBX..  .BBQB .QBQBQd:Bq                     
--             .vvBsb7irq.  BvrYJv7:7..D   Pj QQBr  .J7qEDBdr rQ.L. s   iZr BQ      P.7  1BuBQBBBQBQK7  BBBQ  BBBQBQBDSv..LYi               
--          :uJriJrr:Y iQ  .dr..    .v Dr. :2 .L.JPBBBQPLgQBBBiUr:.i:rQY:BQ BB       BQ:  LBLXqKSXvIK ..1Li::dQBQBBQ.iJMB: :B               
--      v5J7Bqrq7Q25SQ7 B.  Prv:irir:i IBBBvi:i  .BQBg.iQBBZBMBgBIBQBQP: gv BQ     .ruZXs..                iBQBBBQB2  rvJis.BLriii.         
-- r7qdUQBYXP2QB qvr::  Q:  UK. .. .i7 r:gQ17S. :7BBQ riILrs::   .rBBBY  gd QB     .DdZbvgDBQ. rKBBUMQZBgb1QQi.v2  ..j7K:iv7:vrriPBE        
-- Ri7Y2 RS .:   u:     Q:  j:. .   .  ir7BPiQ.XY1r:. i:   7s .:   UuUi  QB:7B.     7vqv 1BQBQBBqLXQi    7i       .ri   EL        BQ        
-- Qr7ur:7r:7i.7:gR7sXBQ1BEPg:v2.:ZL.:I  B: ruB..  :        ...7. :BBBQ .Q   B      vL  :BBBQBQB:  P     gg ZYE   :i 1Q7  SPE7vv.:QU        
--:MQSBEgQuKZ7BQBqIS77BQK7vQB vIRYgBBB51grE. .7 B i:v         :r.i:vS.i.:.:r:Qi     ri.  gBBBQBB:  7     .Kii.:  i qBKd Y iQrPBQ.           
--budQiibU7777.ir7iqIqYbQ7iJX2 vJqM.Q7 RXSI: 1Q 7 :.5         gr     :75117s: YBb7v1J:ii.B 7QBBBQBBBQBBB     : i . BB d1L :i .BP            
--PSvZ55BJBRQiMbsI.v57vv:r2Ssqd5rUDiQ77BBBQQYBBZBE:...  r...  L r        :..: 5EBgBQRBgi j  YQQQBQBQBBBvQQ2..sB5Q2K.:i.qBQDQB:              
-- .  .775sK7gQZP12PusE2.L.QvrsPKviiru7XLLrLX2LdZQBdv. :.. .            .:   :Qv.BQBBQ.SQg5BBBQZQQQRDB  BBi  L2Qid:K L.::uBBQBQY            
--          1Kr:7vLDZ7PI1XuRY 7ivgX7sBrviiSbr...:.BKI:ru. . 7   .i   .. i:. rDBQ YQi   QBBBZMQP BZi:BQ  BQ.  Q QdiR.b:7.B7.UBQBQs           
--                 r vM7rrSErJvuSbIBYKPr:rbiY1Js.g7Prs2Y. ..7rr2i.::i::.r7:.iBQBq... vQBgBQBgQQ DB.Pr  7QBJ7rgs Qb7B.M2ui:d  BgB:           
--                   :.irIP.1Quqi7v5:XDP5 BvB7iQDBiBUZvQjSX1..  17Y.:vBdL:r:::.irirsdQqSBQBBBgBQ.r:   iQBQi7Lri  . .           Pv..         
--                     : iB.su.D:: K.M Yq.UiQJ.rrr.D.5rrQKbBQY:1jIQSrLvY   iv1YQDQbii:... .. .:v7..JJBQBQQ SuKXRdXqdgBDQZQUdDg5BSuJSIXIUrvJ:
--                        .  i :iP5 Bur7E:jiUbr7gXdiiri7di.gPjQvg1:SIQBQEXBQsPPIIL.   :r2rvPP7vv5PqXSi:::.SZQQBQBQBBBQBQBQBQBQBq5BBBBQBBBs  
--                                : . .i:D r.7:QYiS.ibIvBiYdrBURii7siKBrjb2B.SBZPUPdsRBjBEvBQQQs..   ri7vKv7.::.:i::.::i:vv1:L1dQBBgL:iqZ57 
--                                        i  7 : .B2:1bLsrr:Pj Z:X5:v i5udQ:.gBr7JIgBQ.v7XJIiDXU. J1KSBBM1BQqBBMD:777v5i:i:.i:ir7rr.        
--                                                 ...i Yu  Pii1gv2u7ZP:QUBiPBMXZ.PBY5KggSiSiJiBQBXrSrqB5X.LRPur.:.77EMBQBQBBBZKi:r:        
--                                                          :.     i: u.vi:LJi.r:7.i: :IS:SrB:J..Bi IQ.d:5UrBBr7BQBgB7jr2vB:2:              
--                                                                                                    .  v   :. . .                          

if myHero.charName~="Cassiopeia"then return end;require"DamageLib"require"MapPositionGOS"PrintChat("Press F6 twice if E doesn't work!!")keybindings={[ITEM_1]=HK_ITEM_1,[ITEM_2]=HK_ITEM_2,[ITEM_3]=HK_ITEM_3,[ITEM_4]=HK_ITEM_4,[ITEM_5]=HK_ITEM_5,[ITEM_6]=HK_ITEM_6}local a={state=0,tick=GetTickCount(),casting=GetTickCount()-1000,mouse=mousePos}local b=Game.Timer()local c={}local d=1;local e=math.atan2;local f=math.pi;local g=math.min;local h=math.abs;local i=math.sqrt;local j=math.huge;local k=table.insert;local l=table.sort;local m=string.find;local n=nil;local o=nil;local p=false;local function q(r,s,t,u)local v=false;if u then for w=1,35 do if t:Extended(s,3500-w*100):ToScreen().onScreen then s=t:Extended(s,3400-w*100)v=true;break end end end;if v==true or s:ToScreen().onScreen then local x=cursorPos;Control.SetCursorPos(s)Control.KeyDown(r)Control.KeyUp(r)o=s;p=true;n={endTime=GetTickCount()+50,action=function()Control.SetCursorPos(x.x,x.y)end,active=true}b=0.3+Game.Timer()end end;local y=false;local z=Game.Timer()Callback.Add("Tick",function()if not y and Game.Timer()>z+5 then if _G.SDK and _G.SDK.Orbwalker then _G.SDK.Orbwalker:OnPreAttack(function(A)if p then A.Process=false end end)_G.SDK.Orbwalker:OnPreMovement(function(A)if p then A.Process=false end end)end;y=true end;if n then if n.active and GetTickCount()>n.endTime then n.action()n.active=false;o=nil elseif not n.active and GetTickCount()>n.endTime+25 then p=false;n=nil end end;if o then Control.SetCursorPos(o)end end)function SetMovement(B)if _G.EOWLoaded then EOW:SetMovements(B)EOW:SetAttacks(B)elseif _G.SDK then _G.SDK.Orbwalker:SetMovement(B)_G.SDK.Orbwalker:SetAttack(B)else GOS.BlockMovement=not B;GOS.BlockAttack=not B end;if B then a.state=0 end end;class"Cassiopeia"local C,D,F,G="Cassiopeia - Bronze to Challenger","v1.0","Tocsin","8.7"function CurrentTarget(H)if _G.SDK then return _G.SDK.TargetSelector:GetTarget(H,_G.SDK.DAMAGE_TYPE_MAGICAL)elseif _G.EOW then return _G.EOW:GetTarget(H)else return _G.GOS:GetTarget(H,"AP")end end;function Cassiopeia:__init()self:LoadSpells()self:LoadMenu()self.Allies={}self.Enemies={}for w=1,Game.HeroCount()do local I=Game.Hero(w)if I.isAlly then table.insert(self.Allies,I)else table.insert(self.Enemies,I)end end;Callback.Add("Tick",function()self:Tick()end)Callback.Add("Draw",function()self:Draw()end)local J=""if _G.SDK then J="IC'S orbwalker"elseif _G.EOW then J="EOW"elseif _G.GOS then J="Noddy orbwalker"else J="Orbwalker not found"end;PrintChat(C.." "..D.." - Loaded...."..J)PrintChat("Press F6 twice if E doesn't work!!")PrintChat("Press F6 twice if E doesn't work!!")end;function Cassiopeia:LoadSpells()Q={Range=850,Width=75,Delay=0.61,Speed=math.huge,Collision=false,aoe=true,Type="circular"}W={Range=800,Width=160,Delay=0.25,Speed=1500,Collision=false,aoe=true,Type="circular"}E={Range=700}R={Range=700,Width=130,Delay=0.6,Speed=math.huge,Collision=false,aoe=true,Angle=80}end;function Cassiopeia:LoadMenu()self.Menu=MenuElement({type=MENU,id="Cassiopeia - Bronze to Challenger",name=C})self.Menu:MenuElement({id="ComboMode",name="Combo",type=MENU})self.Menu.ComboMode:MenuElement({id="UseQ",name="Use Q",value=true})self.Menu.ComboMode:MenuElement({id="UseW",name="Use W",value=true})self.Menu.ComboMode:MenuElement({id="UseE",name="Use E",value=true})self.Menu.ComboMode:MenuElement({id="UseR",name="Use R",value=true})self.Menu.ComboMode:MenuElement({id="AutoR",name="Use R if hit x enemies",value=2,min=1,max=5,step=1})self.Menu.ComboMode:MenuElement({id="HitRate",name="Hit Rate Accuracy Value",value=3,min=1,max=5,step=1})self.Menu.ComboMode:MenuElement({id="comboActive",name="Combo key",key=string.byte(" ")})self.Menu:MenuElement({id="HarassMode",name="Harass",type=MENU})self.Menu.HarassMode:MenuElement({id="UseQ",name="Use Q",value=true})self.Menu.HarassMode:MenuElement({id="UseW",name="Use W",value=false})self.Menu.HarassMode:MenuElement({id="UseE",name="Use E",value=true})self.Menu.HarassMode:MenuElement({id="harassActive",name="Harass key",key=string.byte("C")})self.Menu:MenuElement({id="ClearMode",name="Clear",type=MENU})self.Menu.ClearMode:MenuElement({id="UseQ",name="Use Q",value=true})self.Menu.ClearMode:MenuElement({id="UseW",name="Use W",value=true})self.Menu.ClearMode:MenuElement({id="UseE",name="Use E",value=true})self.Menu.ClearMode:MenuElement({id="FarmE",name="Auto Farm E",value=true})self.Menu.ClearMode:MenuElement({id="MinionCount",name="Hit x minions",value=1,min=1,max=7,step=1})self.Menu.ClearMode:MenuElement({id="MinMana",name="Don't use Auto E if mana is lower than",value=30,min=0,max=100,step=1})self.Menu.ClearMode:MenuElement({id="clearActive",name="Clear key",key=string.byte("V")})self.Menu:MenuElement({id="CustomSpellCast",name="GSO Custom Cast",tooltip="GSO Customcast",value=true})self.Menu:MenuElement({id="blank",type=SPACE,name=""})self.Menu:MenuElement({id="blank",type=SPACE,name="Prediction: sikaka's Hpred"})self.Menu:MenuElement({id="blank",type=SPACE,name="Script Ver: "..D.." - LoL Ver: "..G..""})self.Menu:MenuElement({id="blank",type=SPACE,name="by "..F..""})end;function IsRecalling()for K,L in pairs(GetBuffs(myHero))do if L.name=="recall"and L.duration>0 then return true end end;return false end;function IsEvading()if ExtLibEvade and ExtLibEvade.Evading then return true end;return false end;function IsAttacking()if myHero.attackData and myHero.attackData.target and myHero.attackData.state==STATE_WINDUP then return true end;return false end;function SpecialCast(M,N,t,u)if b>Game.Timer()then return end;if not N then Control.CastSpell(M)return end;if not IsEvading()then if not u then u=false end;if not t then t=myHero.pos end;q(M,N,t,u)elseif _G.SDK and _G.Control then _G.Control.CastSpell(M,N)else Control.CastSpell(M,N)end end;function ValidTarget(target,H)H=H and H or math.huge;return target~=nil and target.valid and target.visible and not target.dead and target.distance<=H end;function Cassiopeia:Tick()if myHero.dead or IsRecalling()==true or IsEvading()==true then return end;if b>Game.Timer()then return end;if self.Menu.HarassMode.harassActive:Value()and self:EnemyInRange(1000)then self:Harass()elseif self.Menu.ComboMode.comboActive:Value()and self:EnemyInRange(1000)then self:Combo()elseif self.Menu.ClearMode.clearActive:Value()then self:Jungle()else self:FarmE()end end;function Cassiopeia:HasBuff(O,P)for w=0,O.buffCount do local S=O:GetBuff(w)if S.name==P and S.count>0 then return true end end;return false end;function PunkAss(O)local T=math.abs;local U=math.deg;local V=math.acos;local target=target or _G.SDK and _G.SDK.TargetSelector:GetTarget(800,_G.SDK.DAMAGE_TYPE_MAGICAL)or _G.GOS and _G.GOS:GetTarget(800,"AP")if not target then return end;local X=Vector(target.pos-myHero.pos)local Y=Vector(target.dir)local Z=180-U(V(X*Y/(X:Len()*Y:Len())))if T(Z)<80 then return true end;return false end;function Cassiopeia:IsReady(_)return Game.CanUseSpell(_)==0 end;function Cassiopeia:CheckMana(a0)return myHero:GetSpellData(a0).mana<myHero.mana end;function Cassiopeia:CanCast(a0)return self:IsReady(a0)end;function EnableMovement()SetMovement(true)end;function ReturnCursor(N)Control.SetCursorPos(N)DelayAction(EnableMovement,0.1)end;function GetBestCircularFarmPosition(H,a1,a2)local a3;local a4=0;for w,a5 in pairs(a2)do local a6=CountObjectsNearPos(a5.pos,H,a1,a2)if a6>a4 then a4=a6;a3=a5.pos;if a4==#a2 then break end end end;return a3,a4 end;function CountObjectsNearPos(N,H,a1,a2)local a7=0;for w,a5 in pairs(a2)do if GetDistanceSqr(N,a5.pos)<=a1*a1 then a7=a7+1 end end;return a7 end;function LeftClick(N)Control.mouse_event(MOUSEEVENTF_LEFTDOWN)Control.mouse_event(MOUSEEVENTF_LEFTUP)DelayAction(ReturnCursor,0.05,{N})end;function Cassiopeia:Draw()local a8=myHero.pos:To2D()local target=target or _G.SDK and _G.SDK.TargetSelector:GetTarget(900,_G.SDK.DAMAGE_TYPE_MAGICAL)or _G.GOS and _G.GOS:GetTarget(900,"AP")if not target then return end;if ValidTarget(target)and target.type=="AIHeroClient"then local a9,aimPosition=HPred:GetUnreliableTarget(myHero.pos,Q.Range,Q.Delay,Q.Speed,Q.Width,Q.Collision,self.Menu.ComboMode.HitRate:Value(),nil)if a9 and HPred:IsInRange(myHero.pos,aimPosition,Q.Range)then Draw.Circle(aimPosition,60,3,Draw.Color(255,255,000,255))end end end;function Cassiopeia:CastSpell(_,N)local aa=self.Menu.CustomSpellCast:Value()if not aa then Control.CastSpell(_,N)return else local ab=self.Menu.delay:Value()local ac=GetTickCount()if a.state==0 and ac>a.casting then a.state=1;a.mouse=mousePos;a.tick=ac;if ac-a.tick<Game.Latency()then SetMovement(false)Control.SetCursorPos(N)Control.KeyDown(_)Control.KeyUp(_)DelayAction(LeftClick,ab/1000,{a.mouse})a.casting=ac+500 end end end end;function Cassiopeia:IsPoisonedTarget(O)for w=0,O.buffCount do local S=O:GetBuff(w)if S.count>0 and(S.name=="cassiopeiaqdebuff"or S.name=="cassiopeiawpoison"or S.name=="poisontrailtarget"or S.name=="TwitchDeadlyVenom"or S.name=="ToxicShotParticle"or S.name=="bantamtraptarget")then return true end end;return false end;function Cassiopeia:IsInvulnerableTarget(O)local ad={["UndyingRage"]=true,["JudicatorIntervention"]=true,["VladimirSanguinePool"]=true,["ChronoRevive"]=true,["ChronoShift"]=true,["zhonyasringshield"]=true,["lissandrarself"]=true}for w=0,O.buffCount do local S=O:GetBuff(w)if S and S.name and S.count>0 and S.expireTime>Game.Timer()and(ad[S.name]or S.name=="kindredrnodeathbuff"and GetPercentHP(O)<10 or S.name=="UndyingRage"and O.health<10)then return true end end;return false end;function Cassiopeia:GetETarget()local target=nil;local ae=1000;for w,af in pairs(self.Enemies)do if ValidTarget(af,E.Range)and not self:IsInvulnerableTarget(af)and self:IsPoisonedTarget(af)then local ag=af.health/CalcMagicalDamage(myHero,af,100)if ag<ae then ae=ag;target=af end end end;return target end;function ValidTarget(target)return target.isEnemy and target.alive and target.visible and target.isTargetable end;function Cassiopeia:GetDamage(_,O,ah)if _=="E"then local ai=48+myHero.levelData.lvl*4+myHero.ap*0.1;if ah or self:IsPoisonedTarget(O)then local aj=({10,30,50,70,90})[myHero:GetSpellData(_E).level]+myHero.ap*0.60;return CalcMagicalDamage(myHero,O,ai+aj)else return CalcMagicalDamage(myHero,O,ai)end elseif _=="Q"then local ak=({75,120,165,210,255})[myHero:GetSpellData(_Q).level]+0.7*myHero.ap;return CalcMagicalDamage(myHero,O,ak)elseif _=="R"then local ak=({150,250,350})[myHero:GetSpellData(_R).level]+0.5*myHero.ap;return CalcMagicalDamage(myHero,O,ak)end end;function Cassiopeia:Combo()if not _G.SDK and not _G.GOS then return end;local target=target or _G.SDK and _G.SDK.TargetSelector:GetTarget(900,_G.SDK.DAMAGE_TYPE_MAGICAL)or _G.GOS and _G.GOS:GetTarget(900,"AP")if not target then return end;if ValidTarget(target)and target.type=="AIHeroClient"then if self:CanCast(_E)and self.Menu.ComboMode.UseE:Value()then if target.pos:DistanceTo(myHero.pos)<E.Range and self:GetETarget()then Control.CastSpell(HK_E,target)end end;if self:CanCast(_Q)and self.Menu.ComboMode.UseQ:Value()then local a9,aimPosition=HPred:GetUnreliableTarget(myHero.pos,Q.Range,Q.Delay,Q.Speed,Q.Width,Q.Collision,self.Menu.ComboMode.HitRate:Value(),nil)if a9 and HPred:IsInRange(myHero.pos,aimPosition,Q.Range)then SpecialCast(HK_Q,aimPosition)end end;if self:CanCast(_W)and target.pos:DistanceTo(myHero.pos)>430 and self.Menu.ComboMode.UseW:Value()then local a9,aimPosition=HPred:GetUnreliableTarget(myHero.pos,W.Range,W.Delay,W.Speed,W.Width,W.Collision,self.Menu.ComboMode.HitRate:Value(),nil)if a9 and HPred:IsInRange(myHero.pos,aimPosition,W.Range)then SpecialCast(HK_W,aimPosition)end end;if self:CanCast(_R)and self.Menu.ComboMode.UseR:Value()and PunkAss()then if PunkAss()and self:EnemyInRange(R.Range)>=self.Menu.ComboMode.AutoR:Value()then local a9,aimPosition=HPred:GetUnreliableTarget(myHero.pos,R.Range,R.Delay,R.Speed,R.Width,R.Collision,self.Menu.ComboMode.HitRate:Value(),nil)if a9 and HPred:IsInRange(myHero.pos,aimPosition,R.Range)then Control.CastSpell(HK_R,aimPosition)end end end end end;function Cassiopeia:GetEnemyHeroes()self.EnemyHeroes={}for w=1,Game.HeroCount()do local al=Game.Hero(w)if al.isEnemy then table.insert(self.EnemyHeroes,al)end end;return self.EnemyHeroes end;function Cassiopeia:EnemyInRange(H)local am=0;for w,target in ipairs(self:GetEnemyHeroes())do if target.pos:DistanceTo(myHero.pos)<H then am=am+1 end end;return am end;function Cassiopeia:Harass()if not _G.SDK and not _G.GOS then return end;local target=target or _G.SDK and _G.SDK.TargetSelector:GetTarget(800,_G.SDK.DAMAGE_TYPE_MAGICAL)or _G.GOS and _G.GOS:GetTarget(800,"AP")if not target then return end;if ValidTarget(target)and target.type=="AIHeroClient"then if self:CanCast(_E)and self.Menu.HarassMode.UseE:Value()then if target.pos:DistanceTo(myHero.pos)<E.Range and self:GetETarget()then Control.CastSpell(HK_E,target)end end;if self:CanCast(_Q)and target.pos:DistanceTo(myHero.pos)<Q.Range and self.Menu.HarassMode.UseQ:Value()then local a9,aimPosition=HPred:GetUnreliableTarget(myHero.pos,Q.Range,Q.Delay,Q.Speed,Q.Width,Q.Collision,self.Menu.ComboMode.HitRate:Value(),nil)if a9 and HPred:IsInRange(myHero.pos,aimPosition,Q.Range)then SpecialCast(HK_Q,aimPosition)end end;if self:CanCast(_W)and target.pos:DistanceTo(myHero.pos)>500 and self.Menu.HarassMode.UseW:Value()then local a9,aimPosition=HPred:GetUnreliableTarget(myHero.pos,W.Range,W.Delay,W.Speed,W.Width,W.Collision,self.Menu.ComboMode.HitRate:Value(),nil)if a9 and HPred:IsInRange(myHero.pos,aimPosition,W.Range)then SpecialCast(HK_W,aimPosition)end end end end;function Block(an)if an==true then if Orb==1 then EOW:SetAttacks(false)elseif Orb==2 then _G.SDK.Orbwalker:SetAttack(false)else end else if Orb==1 then EOW:SetAttacks(true)elseif Orb==2 then _G.SDK.Orbwalker:SetAttack(true)else end end end;function Cassiopeia:GetEnemyMinions(H)if _G.SDK then return _G.SDK.ObjectManager:GetEnemyMinions(H)end;self.EnemyMinions={}for w=1,Game.MinionCount()do local minion=Game.Minion(w)if minion.isEnemy and(not H or myHero.pos:DistanceTo(minion.pos)<H)then table.insert(self.EnemyMinions,minion)end end;return self.EnemyMinions end;function GetDistanceSqr(ao,ap)assert(ao,"GetDistance: invalid argument: cannot calculate distance to "..type(ao))return(ao.x-ap.x)^2+((ao.z or ao.y)-(ap.z or ap.y))^2 end;function GetDistance(ao,ap)return math.sqrt(GetDistanceSqr(ao,ap))end;function Cassiopeia:FarmE()for w=1,Game.MinionCount()do local minion=Game.Minion(w)if not minion then return end;if minion and minion.team==300-myHero.team then local aq=myHero:GetSpellData(_E).level;local ar=48+4*myHero.levelData.lvl+0.1*myHero.ap+(({10,30,50,70,90})[aq]+0.60*myHero.ap or 0)local as=48+4*myHero.levelData.lvl+0.10*myHero.ap;if self:CanCast(_E)and myHero.pos:DistanceTo(minion.pos)<700 and IsRecalling()==false and myHero.mana/myHero.maxMana>self.Menu.ClearMode.MinMana:Value()/100 then if self.Menu.ClearMode.FarmE:Value()and minion then if self:IsPoisonedTarget(minion)and self:GetDamage("E",minion)>=minion.health then Block(true)Control.CastSpell(HK_E,minion)elseif self:GetDamage("E",minion)>=minion.health then Block(true)Control.CastSpell(HK_E,minion)end end end;Block(false)end end end;function Cassiopeia:GetEnemyMinions(H)if _G.SDK then return _G.SDK.ObjectManager:GetEnemyMinions(H)end;self.EnemyMinions={}for w=1,Game.MinionCount()do local minion=Game.Minion(w)if minion.isEnemy and(not H or myHero.pos:DistanceTo(minion.pos)<H)then table.insert(self.EnemyMinions,minion)end end;return self.EnemyMinions end;function Cassiopeia:HpPred(O,ab)if _G.GOS then hp=GOS:HP_Pred(O,ab)else hp=O.health end;return hp end;function Cassiopeia:GetMinionFarm(H)local target;for at=1,Game.MinionCount()do local minion=Game.Minion(at)if self:IsValidMinion(minion,H)and minion.team~=myHero.team then target=minion;break end end;return target end;function Cassiopeia:IsValidMinion(au,av)return au~=nil and au.valid and au.visible and not au.dead and au.isTargetable and au.distance<=av end;function Cassiopeia:Jungle()minion=self:GetMinionFarm(700)if not minion then return end;if self:CanCast(_E)and myHero.pos:DistanceTo(minion.pos)<700 and self:GetDamage("E",minion)>=minion.health then if self.Menu.ClearMode.UseE:Value()and minion then Control.CastSpell(HK_E,minion.pos)end end;if self:CanCast(_Q)and myHero.pos:DistanceTo(minion.pos)<800 and minion:GetCollision(Q.Width,Q.Range,Q.Speed)>=self.Menu.ClearMode.MinionCount:Value()then if self.Menu.ClearMode.UseQ:Value()and minion then Control.CastSpell(HK_Q,minion.pos)end end;if self:CanCast(_W)and myHero.pos:DistanceTo(minion.pos)<800 and minion:GetCollision(W.Width,W.Range,W.Speed)>=self.Menu.ClearMode.MinionCount:Value()then if self.Menu.ClearMode.UseW:Value()and minion and minion.pos:DistanceTo(myHero.pos)>400 then Control.CastSpell(HK_W,minion.pos)end end end;function OnLoad()Cassiopeia()end;class"HPred"Callback.Add("Tick",function()HPred:Tick()end)local e=math.atan2;local f=math.pi;local aw=math.max;local g=math.min;local h=math.abs;local i=math.sqrt;local m=string.find;local ax=string.sub;local ay=string.len;local az=.2;local aA=Game.Timer()local aB={["LifeAura.troy"]=4,["ZileanBase_R_Buf.troy"]=3,["Aatrox_Base_Passive_Death_Activate"]=3}local aC={["EzrealArcaneShift"]=475,["RiftWalk"]=500,["EkkoEAttack"]=0,["AlphaStrike"]=0,["KatarinaE"]=-255,["KatarinaEDagger"]={"Katarina_Base_Dagger_Ground_Indicator","Katarina_Skin01_Dagger_Ground_Indicator","Katarina_Skin02_Dagger_Ground_Indicator","Katarina_Skin03_Dagger_Ground_Indicator","Katarina_Skin04_Dagger_Ground_Indicator","Katarina_Skin05_Dagger_Ground_Indicator","Katarina_Skin06_Dagger_Ground_Indicator","Katarina_Skin07_Dagger_Ground_Indicator","Katarina_Skin08_Dagger_Ground_Indicator","Katarina_Skin09_Dagger_Ground_Indicator"}}local aD={"global_ss_flash_02.troy","Lissandra_Base_E_Arrival.troy","LeBlanc_Base_W_return_activation.troy"}local aE={}local aF={}local aG={}local aH={}local aI={}local aJ;local aK;local aL;function HPred:Tick()self:CacheParticles()if Game.Timer()-aA<az then return end;aA=Game.Timer()for aM,aN in pairs(aE)do if Game.Timer()>aN.expireTime+.5 then aE[aM]=nil end end;for w=1,Game.ParticleCount()do local aO=Game.Particle(w)if not aE[aO.networkID]and aB[aO.name]then aE[aO.networkID]={}aE[aO.networkID]["expireTime"]=Game.Timer()+aB[aO.name]local target=self:GetHeroByPosition(aO.pos)if target.isEnemy then aE[aO.networkID]["target"]=target;aE[aO.networkID]["pos"]=target.pos;aE[aO.networkID]["isEnemy"]=target.isEnemy end end end;for w=1,Game.HeroCount()do local aP=Game.Hero(w)self:UpdateMovementHistory(aP)end;for aM,aQ in pairs(aF)do if Game.Timer()>aQ.expireTime+.5 then aF[aM]=nil end end;self:CacheTeleports()end;function HPred:GetEnemyNexusPosition()if myHero.team==100 then return Vector(14340,171.977722167969,14390)else return Vector(396,182.132507324219,462)end end;function HPred:GetReliableTarget(aR,H,ab,aS,a1,aT,aU)target,aimPosition=self:GetHourglassTarget(aR,H,ab,aS,aT,aU,a1)if target and aimPosition then return target,aimPosition end;target,aimPosition=self:GetRevivingTarget(aR,H,ab,aS,aT,aU,a1)if target and aimPosition then return target,aimPosition end;target,aimPosition=self:GetChannelingTarget(aR,H,ab,aS,aT,aU,a1)if target and aimPosition then return target,aimPosition end;target,aimPosition=self:GetTeleportingTarget(aR,H,ab,aS,aT,aU,a1)if target and aimPosition then return target,aimPosition end;target,aimPosition=self:GetInstantDashTarget(aR,H,ab,aS,aT,aU,a1)if target and aimPosition then return target,aimPosition end;target,aimPosition=self:GetDashingTarget(aR,H,ab,aS,aT,aU,a1,midDash)if target and aimPosition then return target,aimPosition end;local target,aimPosition=self:GetImmobileTarget(aR,H,ab,aS,aT,aU,a1)if target and aimPosition then return target,aimPosition end end;function HPred:GetLineTargetCount(aR,aV,ab,aS,aW,aX)local aY=0;for w=1,Game.HeroCount()do local aP=Game.Hero(w)if self:CanTargetALL(aP)and(aX or aP.isEnemy)then local aZ=self:PredictUnitPosition(aP,ab+self:GetDistance(aR,aP.pos)/aS)local a_,b0,b1=self:VectorPointProjectionOnLineSegment(aR,aV,aZ)if a_ and b1 and self:GetDistanceSqr(aZ,a_)<=(aP.boundingRadius+aW)^2 then aY=aY+1 end end end;return aY end;function HPred:GetUnreliableTarget(aR,H,ab,aS,a1,aU,b2,b3)local b4={}for w=1,Game.HeroCount()do local aP=Game.Hero(w)if self:CanTarget(aP)and(not b3 or b3[aP.charName])then local b5,aimPosition=self:GetHitchance(aR,aP,H,ab,aS,a1,aU)if b5>=b2 then b4[aP.charName]={["hitChance"]=b5,["aimPosition"]=aimPosition}end end end;local b6=0;local b7;for b8,b9 in pairs(b4)do if b9.hitChance>b6 then b6=b9.hitChance;b7=b9.aimPosition end end;if b6>=b2 then return b6,b7 end end;function HPred:GetHitchance(aR,target,H,ab,aS,a1,aU)local b5=1;local aimPosition=self:PredictUnitPosition(target,ab+self:GetDistance(aR,target.pos)/aS)local ba=self:GetSpellInterceptTime(aR,aimPosition,ab,aS)local bb=self:PredictReactionTime(target,.1)if aG and aG[target.charName]and Game.Timer()-aG[target.charName]["ChangedAt"]<.25 then b5=2 end;if not target.pathing or not target.pathing.hasMovePath then b5=2 end;local bc,bd=self:UnitMovementBounds(target,ba,bb)if bd-target.boundingRadius<=a1/2 then bc,bd=self:UnitMovementBounds(target,ba,0)if bd-target.boundingRadius<=a1/2 then b5=4 else b5=3 end end;if target.activeSpell and target.activeSpell.valid then if target.activeSpell.startTime+target.activeSpell.windup-Game.Timer()>=ab then b5=5 else b5=3 end end;if not self:IsInRange(myHero.pos,aimPosition,H)then b5=-1 end;if b5>0 and aU then if self:IsWindwallBlocking(aR,aimPosition)then b5=-1 elseif self:CheckMinionCollision(aR,aimPosition,ab,aS,a1)then b5=-1 end end;return b5,aimPosition end;function HPred:PredictReactionTime(O,be)local bb=be;if O.activeSpell and O.activeSpell.valid then local bf=O.activeSpell.startTime+O.activeSpell.windup-Game.Timer()if bf>0 then bb=bf end end;return bb end;function HPred:GetDashingTarget(aR,H,ab,aS,bg,aU,a1,midDash)local target;local aimPosition;for w=1,Game.HeroCount()do local aP=Game.Hero(w)if aP.isEnemy and aP.pathing.hasMovePath and aP.pathing.isDashing and aP.pathing.dashSpeed>500 then local bh=aP:GetPath(1)if self:IsInRange(aR,bh,H)then local bi=self:GetDistance(aP.pos,bh)/aP.pathing.dashSpeed;local bj=self:GetSpellInterceptTime(myHero.pos,bh,ab,aS)local bk=bj-bi;if bk>0 and bk<bg and(not aU or not self:CheckMinionCollision(aR,bh,ab,aS,a1))then target=aP;aimPosition=bh;return target,aimPosition end end end end end;function HPred:GetHourglassTarget(aR,H,ab,aS,aT,aU,a1)local target;local aimPosition;for w=1,Game.HeroCount()do local aP=Game.Hero(w)if aP.isEnemy then local bl,bm=self:HasBuff(aP,"zhonyasringshield")if bl then local bn=self:GetSpellInterceptTime(myHero.pos,aP.pos,ab,aS)local bk=bn-bm;if bn>bm and bk<aT and(not aU or not self:CheckMinionCollision(aR,interceptPosition,ab,aS,a1))then target=aP;aimPosition=aP.pos;return target,aimPosition end end end end end;function HPred:GetRevivingTarget(aR,H,ab,aS,aT,aU,a1)local target;local aimPosition;for aM,aN in pairs(aE)do if aN.isEnemy then local ba=self:GetSpellInterceptTime(aR,aN.pos,ab,aS)if ba>aN.expireTime-Game.Timer()and ba-aN.expireTime-Game.Timer()<aT then target=aN.target;aimPosition=aN.pos;return target,aimPosition end end end end;function HPred:GetInstantDashTarget(aR,H,ab,aS,aT,aU,a1)local target;local aimPosition;for w=1,Game.HeroCount()do local aP=Game.Hero(w)if aP.isEnemy and aP.activeSpell and aP.activeSpell.valid and aC[aP.activeSpell.name]then local bf=aP.activeSpell.startTime+aP.activeSpell.windup-Game.Timer()if bf>0 then local bo;local bp=aC[aP.activeSpell.name]if type(bp)=="table"then elseif bp>0 then bo=Vector(aP.activeSpell.placementPos.x,aP.activeSpell.placementPos.y,aP.activeSpell.placementPos.z)bo=aP.activeSpell.startPos+(bo-aP.activeSpell.startPos):Normalized()*g(self:GetDistance(aP.activeSpell.startPos,bo),H)else local bq=self:GetObjectByHandle(aP.activeSpell.target)if bq then local br;if bp==0 then br=(bq.pos-aP.pos):Normalized()elseif bp==-1 then br=(aP.pos-bq.pos):Normalized()elseif bp==-255 then if a1>250 then bo=bq.pos end end;if br then bo=bq.pos-br*150 end end end;local ba=self:GetSpellInterceptTime(myHero.pos,bo,ab,aS)local bk=ba-bf;if self:IsInRange(aR,bo,H)and bk<aT and(not aU or not self:CheckMinionCollision(aR,bo,ab,aS,a1))then target=aP;aimPosition=bo;return target,aimPosition end end end end end;function HPred:GetBlinkTarget(aR,H,aS,ab,aU,a1)local target;local aimPosition;for w=1,Game.ParticleCount()do local aO=Game.Particle(w)if aO and aD[aO.name]and self:IsInRange(aR,aO.pos,H)then local bs=aO.pos;for bt,bu in pairs(self:GetEnemyHeroes())do local aP=bu;if aP and aP.isEnemy and self:IsInRange(aP.pos,bs,aP.boundingRadius)then if not aU or not self:CheckMinionCollision(aR,bs,ab,aS,a1)then target=aP;aimPosition=bs;return target,aimPosition end end end end end end;function HPred:GetChannelingTarget(aR,H,ab,aS,aT,aU,a1)local target;local aimPosition;for w=1,Game.HeroCount()do local aP=Game.Hero(w)local ba=self:GetSpellInterceptTime(myHero.pos,aP.pos,ab,aS)if self:CanTarget(aP)and self:IsInRange(aR,aP.pos,H)and self:IsChannelling(aP,ba)and(not aU or not self:CheckMinionCollision(aR,aP.pos,ab,aS,a1))then target=aP;aimPosition=aP.pos;return target,aimPosition end end end;function HPred:GetImmobileTarget(aR,H,ab,aS,aT,aU,a1)local target;local aimPosition;for w=1,Game.HeroCount()do local aP=Game.Hero(w)if self:CanTarget(aP)and self:IsInRange(aR,aP.pos,H)then local bv=self:GetImmobileTime(aP)local ba=self:GetSpellInterceptTime(aR,aP.pos,ab,aS)if bv-ba>aT and(not aU or not self:CheckMinionCollision(aR,aP.pos,ab,aS,a1))then target=aP;aimPosition=aP.pos;return target,aimPosition end end end end;function HPred:CacheTeleports()for w=1,Game.TurretCount()do local bw=Game.Turret(w)if bw.isEnemy and not aF[bw.networkID]then local bx,by=self:HasBuff(bw,"teleport_target")if bx then self:RecordTeleport(bw,self:GetTeleportOffset(bw.pos,223.31),by)end end end;for w=1,Game.WardCount()do local bz=Game.Ward(w)if bz.isEnemy and not aF[bz.networkID]then local bx,by=self:HasBuff(bz,"teleport_target")if bx then self:RecordTeleport(bz,self:GetTeleportOffset(bz.pos,100.01),by)end end end;for w=1,Game.MinionCount()do local minion=Game.Minion(w)if minion.isEnemy and not aF[minion.networkID]then local bx,by=self:HasBuff(minion,"teleport_target")if bx then self:RecordTeleport(minion,self:GetTeleportOffset(minion.pos,143.25),by)end end end end;function HPred:RecordTeleport(target,aV,bA)aF[target.networkID]={}aF[target.networkID]["target"]=target;aF[target.networkID]["aimPos"]=aV;aF[target.networkID]["expireTime"]=bA+Game.Timer()end;function HPred:CalculateIncomingDamage()aI={}local bB=Game.Timer()for aM,bC in pairs(aH)do local bD=self:GetDistance(bC.data.pos,bC.target.pos)if bC.name==""then aH[aM]=nil else if not aI[bC.target.networkID]then aI[bC.target.networkID]=bC.damage else aI[bC.target.networkID]=aI[bC.target.networkID]+bC.damage end end end end;function HPred:GetIncomingDamage(target)local ar=0;if aI[target.networkID]then ar=aI[target.networkID]end;return ar end;local bE=3000;function HPred:CacheParticles()if aJ and aJ.name==""then aJ=nil end;for w=1,Game.ParticleCount()do local aO=Game.Particle(w)if self:IsInRange(aO.pos,myHero.pos,bE)then if m(aO.name,"W_windwall%d")and not aJ then local bF=self:GetObjectByHandle(aO.handle)if bF and bF.isEnemy then aJ=aO;aK=Vector(aO.pos.x,aO.pos.y,aO.pos.z)local bG=ay(aO.name)-5;local bH=ax(aO.name,bG,bG)-1;aL=150+bH*25 end end end end end;function HPred:CacheMissiles()local bB=Game.Timer()for w=1,Game.MissileCount()do local bC=Game.Missile(w)if not aH[bC.networkID]and bC.missileData and bC.missileData.target and bC.missileData.owner then local bI=bC.missileData.name;local bF=self:GetObjectByHandle(bC.missileData.owner)local target=self:GetObjectByHandle(bC.missileData.target)if bF and target and m(target.type,"Hero")then if m(bI,"BasicAttack")or m(bI,"CritAttack")then aH[bC.networkID]={}aH[bC.networkID].target=target;aH[bC.networkID].data=bC;aH[bC.networkID].timeout=bB+1.5;local ar=bF.totalDamage;if m(bI,"CritAttack")then ar=ar*1.5 end;aH[bC.networkID].damage=self:CalculatePhysicalDamage(target,ar)end end end end end;function HPred:CalculatePhysicalDamage(target,ar)local bJ=target.armor*myHero.armorPenPercent-myHero.armorPen;local bK=100/(100+bJ)if bJ<0 then bK=2-100/(100-bJ)end;ar=ar*bK;return ar end;function HPred:CalculateMagicDamage(target,ar)local bL=target.magicResist*myHero.magicPenPercent-myHero.magicPen;local bK=100/(100+bL)if bL<0 then bK=2-100/(100-bL)end;ar=ar*bK;return ar end;function HPred:GetTeleportingTarget(aR,H,ab,aS,aT,aU,a1)local target;local aimPosition;for aM,aQ in pairs(aF)do if aQ.expireTime>Game.Timer()and self:IsInRange(aR,aQ.aimPos,H)then local bn=self:GetSpellInterceptTime(aR,aQ.aimPos,ab,aS)local bM=aQ.expireTime-Game.Timer()if bn>bM and bn-bM<=aT and(not aU or not self:CheckMinionCollision(aR,aQ.aimPos,ab,aS,a1))then target=aQ.target;aimPosition=aQ.aimPos;return target,aimPosition end end end end;function HPred:GetTargetMS(target)local bN=target.pathing.isDashing and target.pathing.dashSpeed or target.ms;return bN end;function HPred:Angle(bO,bP)local bQ=bO-bP;local bR=e(bQ.x,bQ.z)*180/f;if bR<0 then bR=bR+360 end;return bR end;function HPred:UpdateMovementHistory(O)if not aG[O.charName]then aG[O.charName]={}aG[O.charName]["EndPos"]=O.pathing.endPos;aG[O.charName]["StartPos"]=O.pathing.endPos;aG[O.charName]["PreviousAngle"]=0;aG[O.charName]["ChangedAt"]=Game.Timer()end;if aG[O.charName]["EndPos"].x~=O.pathing.endPos.x or aG[O.charName]["EndPos"].y~=O.pathing.endPos.y or aG[O.charName]["EndPos"].z~=O.pathing.endPos.z then aG[O.charName]["PreviousAngle"]=self:Angle(Vector(aG[O.charName]["StartPos"].x,aG[O.charName]["StartPos"].y,aG[O.charName]["StartPos"].z),Vector(aG[O.charName]["EndPos"].x,aG[O.charName]["EndPos"].y,aG[O.charName]["EndPos"].z))aG[O.charName]["EndPos"]=O.pathing.endPos;aG[O.charName]["StartPos"]=O.pos;aG[O.charName]["ChangedAt"]=Game.Timer()end end;function HPred:PredictUnitPosition(O,ab)local bS=O.pos;local bm=ab;local bT=self:GetPathNodes(O)for w=1,#bT-1 do local bU=self:GetDistance(bT[w],bT[w+1])local bV=bU/self:GetTargetMS(O)if bm>bV then bm=bm-bV;bS=bT[w+1]else local bW=(bT[w+1]-bT[w]):Normalized()bS=bT[w]+bW*self:GetTargetMS(O)*bm;break end end;return bS end;function HPred:IsChannelling(target,ba)if target.activeSpell and target.activeSpell.valid and target.activeSpell.isChanneling then return true end end;function HPred:HasBuff(target,bX,bY)local bZ=bY;if not bY then bZ=0 end;local b_;for w=1,target.buffCount do local S=target:GetBuff(w)if S.duration>bZ and S.name==bX then b_=S.duration;return true,b_ end end end;function HPred:GetTeleportOffset(bc,c0)local c1=bc+(self:GetEnemyNexusPosition()-bc):Normalized()*c0;return c1 end;function HPred:GetSpellInterceptTime(t,bo,ab,aS)local ba=Game.Latency()/2000+ab+self:GetDistance(t,bo)/aS;return ba end;function HPred:CanTarget(target)return target.isEnemy and target.alive and target.visible and target.isTargetable end;function HPred:CanTargetALL(target)return target.alive and target.visible and target.isTargetable end;function HPred:UnitMovementBounds(O,ab,bb)local c2=self:PredictUnitPosition(O,ab)local a1=0;local c3=ab-bb-self:GetImmobileTime(O)if c3>0 then a1=self:GetTargetMS(O)*c3 end;return c2,a1 end;function HPred:GetImmobileTime(O)local bZ=0;for w=0,O.buffCount do local S=O:GetBuff(w)if S.count>0 and S.duration>bZ and(S.type==5 or S.type==8 or S.type==21 or S.type==22 or S.type==24 or S.type==11 or S.type==29 or S.type==30 or S.type==39)then bZ=S.duration end end;return bZ end;function HPred:GetSlowedTime(O)local bZ=0;for w=0,O.buffCount do local S=O:GetBuff(w)if S.count>0 and S.duration>bZ and S.type==10 then bZ=S.duration;return bZ end end;return bZ end;function HPred:GetPathNodes(O)local c4={}table.insert(c4,O.pos)if O.pathing.hasMovePath then for w=O.pathing.pathIndex,O.pathing.pathCount do path=O:GetPath(w)table.insert(c4,path)end end;return c4 end;function HPred:GetObjectByHandle(c5)local target;for w=1,Game.HeroCount()do local af=Game.Hero(w)if af.handle==c5 then target=af;return target end end;for w=1,Game.MinionCount()do local minion=Game.Minion(w)if minion.handle==c5 then target=minion;return target end end;for w=1,Game.WardCount()do local bz=Game.Ward(w)if bz.handle==c5 then target=bz;return target end end;for w=1,Game.ParticleCount()do local aO=Game.Particle(w)if aO.handle==c5 then target=aO;return target end end end;function HPred:GetHeroByPosition(c6)local target;for w=1,Game.HeroCount()do local af=Game.Hero(w)if af.pos.x==c6.x and af.pos.y==c6.y and af.pos.z==c6.z then target=af;return target end end end;function HPred:GetObjectByPosition(c6)local target;for w=1,Game.HeroCount()do local af=Game.Hero(w)if af.pos.x==c6.x and af.pos.y==c6.y and af.pos.z==c6.z then target=af;return target end end;for w=1,Game.MinionCount()do local af=Game.Minion(w)if af.pos.x==c6.x and af.pos.y==c6.y and af.pos.z==c6.z then target=af;return target end end;for w=1,Game.WardCount()do local af=Game.Ward(w)if af.pos.x==c6.x and af.pos.y==c6.y and af.pos.z==c6.z then target=af;return target end end;for w=1,Game.ParticleCount()do local af=Game.Particle(w)if af.pos.x==c6.x and af.pos.y==c6.y and af.pos.z==c6.z then target=af;return target end end end;function HPred:GetEnemyHeroByHandle(c5)local target;for w=1,Game.HeroCount()do local af=Game.Hero(w)if af.handle==c5 then target=af;return target end end end;function HPred:GetNearestParticleByNames(bc,c7)local target;local c8=999999;for w=1,Game.ParticleCount()do local aO=Game.Particle(w)local c9=self:GetDistance(bc,aO.pos)if c9<c8 then c8=c9;target=aO end end;return target,c8 end;function HPred:GetPathLength(c4)local ca=0;for w=1,#c4-1 do ca=ca+self:GetDistance(c4[w],c4[w+1])end;return ca end;function HPred:CheckMinionCollision(bc,bo,ab,aS,a1,cb)if not cb then cb=a1 end;local bW=(bo-bc):Normalized()local cc=self:GetDistance(bc,bo)/cb;for w=1,cc do local cd=bc+bW*w*cb;local ce=ab+self:GetDistance(bc,cd)/aS;if self:IsMinionIntersection(cd,a1,ce,a1*3)then return true end end;return false end;function HPred:IsMinionIntersection(cf,a1,ab,cg)if not cg then cg=500 end;for w=1,Game.MinionCount()do local minion=Game.Minion(w)if self:CanTarget(minion)and self:IsInRange(minion.pos,cf,cg)then local bS=self:PredictUnitPosition(minion,ab)if self:IsInRange(cf,bS,a1+minion.boundingRadius)then return true end end end;return false end;function HPred:VectorPointProjectionOnLineSegment(ch,ci,bu)assert(ch and ci and bu,"VectorPointProjectionOnLineSegment: wrong argument types (3 <Vector> expected)")local cj,ck,cl,cm,cn,co=bu.x,bu.z or bu.y,ch.x,ch.z or ch.y,ci.x,ci.z or ci.y;local cp=((cj-cl)*(cn-cl)+(ck-cm)*(co-cm))/((cn-cl)^2+(co-cm)^2)local b0={x=cl+cp*(cn-cl),y=cm+cp*(co-cm)}local cq=cp<0 and 0 or(cp>1 and 1 or cp)local b1=cq==cp;local cr=b1 and b0 or{x=cl+cq*(cn-cl),y=cm+cq*(co-cm)}return cr,b0,b1 end;function HPred:IsWindwallBlocking(aR,target)if aJ then local cs=(aK-aJ.pos):Normalized()return self:DoLineSegmentsIntersect(aR,target,aJ.pos+cs:Perpendicular()*aL,aJ.pos+cs:Perpendicular2()*aL)end;return false end;function HPred:DoLineSegmentsIntersect(bO,bP,ct,Y)local cu=self:GetOrientation(bO,bP,ct)local cv=self:GetOrientation(bO,bP,Y)local cw=self:GetOrientation(ct,Y,bO)local cx=self:GetOrientation(ct,Y,bP)if cu~=cv and cw~=cx then return true end;if cu==0 and self:IsOnSegment(bO,ct,bP)then return true end;if cv==0 and self:IsOnSegment(bO,Y,bP)then return true end;if cw==0 and self:IsOnSegment(ct,bO,Y)then return true end;if cx==0 and self:IsOnSegment(ct,bP,Y)then return true end;return false end;function HPred:GetOrientation(bO,bP,ct)local cy=(bP.z-bO.z)*(ct.x-bP.x)-(bP.x-bO.x)*(ct.z-bP.z)if cy==0 then return 0 elseif cy>0 then return 1 else return 2 end end;function HPred:IsOnSegment(bO,bP,ct)return bP.x<=aw(bO.x,ct.x)and bP.x>=g(bO.x,ct.x)and bP.z<=aw(bO.z,ct.z)and bP.z>=g(bO.z,ct.z)end;function HPred:GetSlope(bO,bP)return(bP.z-bO.z)/(bP.x-bO.x)end;function HPred:GetEnemyByName(cz)local target;for w=1,Game.HeroCount()do local af=Game.Hero(w)if af.isEnemy and af.charName==cz then target=af;return target end end end;function HPred:IsPointInArc(aR,bc,target,bR,H)local cA=h(HPred:Angle(bc,target)-HPred:Angle(aR,bc))if cA<bR and self:IsInRange(bc,target,H)then return true end end;function HPred:GetEnemyHeroes()local cB={}for w=1,Game.HeroCount()do local af=Game.Hero(w)if af and af.isEnemy then table.insert(cB,af)end end;return cB end;function HPred:GetDistanceSqr(ao,ap)return(ao.x-ap.x)^2+((ao.z or ao.y)-(ap.z or ap.y))^2 end;function HPred:IsInRange(ao,ap,H)return H*H>=(ao.x-ap.x)^2+((ao.z or ao.y)-(ap.z or ap.y))^2 end;function HPred:GetDistance(ao,ap)return i(self:GetDistanceSqr(ao,ap))end